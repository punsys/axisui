{"version":3,"file":"assets/js/axis-table-advanced.js","mappings":";;;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;ACjTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE,IAAI,EAAE,IAAI,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,OAAO;AACP;AACA,qCAAqC,gBAAgB,QAAQ,8BAA8B;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,yCAAyC,OAAO,QAAQ,qBAAqB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,wEAAwE,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://axis-ui/./src/js/table-advanced.js","webpack://axis-ui/./src/js/table-editable.js"],"sourcesContent":["// =============================================================================\n// TABLE.JS - AxisUI Framework Table Interactive Features\n// Handles sortable columns, selectable rows, and other table interactions\n// =============================================================================\n\n(function() {\n  'use strict';\n\n  // =============================================================================\n  // SORTABLE TABLES\n  // =============================================================================\n  \n  function initSortableTables() {\n    const sortableTables = document.querySelectorAll('.table-sortable, .table-sortable-enhanced');\n    \n    sortableTables.forEach(table => {\n      const headers = table.querySelectorAll('th.sortable');\n      \n      headers.forEach((header, columnIndex) => {\n        // Skip if already initialized\n        if (header.dataset.sortInitialized) return;\n        header.dataset.sortInitialized = 'true';\n        \n        header.style.cursor = 'pointer';\n        \n        header.addEventListener('click', function() {\n          const tbody = table.querySelector('tbody');\n          const rows = Array.from(tbody.querySelectorAll('tr'));\n          \n          // Determine current sort direction\n          let direction = 'asc';\n          if (header.classList.contains('sort-asc')) {\n            direction = 'desc';\n          }\n          \n          // Remove sort classes from all headers\n          headers.forEach(h => {\n            h.classList.remove('sort-asc', 'sort-desc');\n          });\n          \n          // Add appropriate class to clicked header\n          header.classList.add(direction === 'asc' ? 'sort-asc' : 'sort-desc');\n          \n          // Sort rows\n          rows.sort((a, b) => {\n            const aCell = a.cells[columnIndex];\n            const bCell = b.cells[columnIndex];\n            \n            if (!aCell || !bCell) return 0;\n            \n            let aValue = aCell.textContent.trim();\n            let bValue = bCell.textContent.trim();\n            \n            // Try to parse as numbers\n            const aNum = parseFloat(aValue.replace(/[^0-9.-]/g, ''));\n            const bNum = parseFloat(bValue.replace(/[^0-9.-]/g, ''));\n            \n            if (!isNaN(aNum) && !isNaN(bNum)) {\n              return direction === 'asc' ? aNum - bNum : bNum - aNum;\n            }\n            \n            // Try to parse as dates\n            const aDate = Date.parse(aValue);\n            const bDate = Date.parse(bValue);\n            \n            if (!isNaN(aDate) && !isNaN(bDate)) {\n              return direction === 'asc' ? aDate - bDate : bDate - aDate;\n            }\n            \n            // String comparison\n            if (direction === 'asc') {\n              return aValue.localeCompare(bValue);\n            } else {\n              return bValue.localeCompare(aValue);\n            }\n          });\n          \n          // Re-append sorted rows\n          rows.forEach(row => tbody.appendChild(row));\n        });\n      });\n    });\n  }\n\n  // =============================================================================\n  // SELECTABLE TABLES\n  // =============================================================================\n  \n  function initSelectableTables() {\n    const selectableTables = document.querySelectorAll('.table-selectable, .table-multi-select');\n    \n    selectableTables.forEach(table => {\n      // Select all checkbox\n      const selectAllCheckbox = table.querySelector('thead input[type=\"checkbox\"]');\n      const rowCheckboxes = table.querySelectorAll('tbody input[type=\"checkbox\"]');\n      const rows = table.querySelectorAll('tbody tr');\n      \n      if (selectAllCheckbox) {\n        selectAllCheckbox.addEventListener('change', function() {\n          const isChecked = this.checked;\n          \n          rowCheckboxes.forEach((checkbox, index) => {\n            checkbox.checked = isChecked;\n            \n            if (isChecked) {\n              rows[index].classList.add('selected');\n            } else {\n              rows[index].classList.remove('selected');\n            }\n          });\n        });\n      }\n      \n      // Individual row checkboxes\n      rowCheckboxes.forEach((checkbox, index) => {\n        checkbox.addEventListener('change', function() {\n          if (this.checked) {\n            rows[index].classList.add('selected');\n          } else {\n            rows[index].classList.remove('selected');\n          }\n          \n          // Update select all checkbox state\n          if (selectAllCheckbox) {\n            const allChecked = Array.from(rowCheckboxes).every(cb => cb.checked);\n            const someChecked = Array.from(rowCheckboxes).some(cb => cb.checked);\n            \n            selectAllCheckbox.checked = allChecked;\n            selectAllCheckbox.indeterminate = someChecked && !allChecked;\n          }\n        });\n      });\n      \n      // Click on row to toggle (except when clicking checkbox or buttons)\n      rows.forEach((row, index) => {\n        row.addEventListener('click', function(e) {\n          // Don't toggle if clicking on checkbox, button, or link\n          if (e.target.type === 'checkbox' || \n              e.target.tagName === 'BUTTON' || \n              e.target.tagName === 'A' ||\n              e.target.closest('button') ||\n              e.target.closest('a')) {\n            return;\n          }\n          \n          const checkbox = rowCheckboxes[index];\n          if (checkbox) {\n            checkbox.checked = !checkbox.checked;\n            checkbox.dispatchEvent(new Event('change'));\n          }\n        });\n      });\n    });\n  }\n\n  // =============================================================================\n  // EXPANDABLE TABLES\n  // =============================================================================\n  \n  function initExpandableTables() {\n    const expandableTables = document.querySelectorAll('.table-expandable');\n    \n    expandableTables.forEach(table => {\n      const rows = table.querySelectorAll('tbody tr:not(.expand-content)');\n      \n      rows.forEach(row => {\n        // Skip if already initialized\n        if (row.dataset.expandInitialized) return;\n        row.dataset.expandInitialized = 'true';\n        \n        const expandContent = row.nextElementSibling;\n        if (expandContent && expandContent.classList.contains('expand-content')) {\n          row.style.cursor = 'pointer';\n          \n          row.addEventListener('click', function(e) {\n            // Don't toggle if clicking on checkbox, button, or link\n            if (e.target.type === 'checkbox' || \n                e.target.tagName === 'BUTTON' || \n                e.target.tagName === 'A' ||\n                e.target.closest('button') ||\n                e.target.closest('a')) {\n              return;\n            }\n            \n            this.classList.toggle('expanded');\n            expandContent.classList.toggle('show');\n          });\n        }\n      });\n    });\n  }\n\n  // =============================================================================\n  // EDITABLE TABLES\n  // =============================================================================\n  \n  function initEditableTables() {\n    const editableTables = document.querySelectorAll('.table-editable');\n    \n    editableTables.forEach(table => {\n      const cells = table.querySelectorAll('tbody td');\n      \n      cells.forEach(cell => {\n        // Skip if already has input or initialized\n        if (cell.querySelector('input') || cell.dataset.editInitialized) return;\n        cell.dataset.editInitialized = 'true';\n        \n        const originalValue = cell.textContent;\n        \n        cell.addEventListener('dblclick', function() {\n          const input = document.createElement('input');\n          input.type = 'text';\n          input.value = this.textContent;\n          input.style.width = '100%';\n          input.style.border = 'none';\n          input.style.background = 'transparent';\n          input.style.padding = '0';\n          input.style.font = 'inherit';\n          \n          this.textContent = '';\n          this.appendChild(input);\n          input.focus();\n          input.select();\n          \n          const saveEdit = () => {\n            const newValue = input.value || originalValue;\n            cell.textContent = newValue;\n          };\n          \n          input.addEventListener('blur', saveEdit);\n          input.addEventListener('keydown', function(e) {\n            if (e.key === 'Enter') {\n              saveEdit();\n            } else if (e.key === 'Escape') {\n              cell.textContent = originalValue;\n            }\n          });\n        });\n      });\n    });\n  }\n\n  // =============================================================================\n  // TABLE NUMBERED ROWS\n  // =============================================================================\n  \n  function initNumberedTables() {\n    const numberedTables = document.querySelectorAll('.table-numbered');\n    \n    numberedTables.forEach(table => {\n      // CSS counter handles this, but we can add aria labels for accessibility\n      const rows = table.querySelectorAll('tbody tr');\n      rows.forEach((row, index) => {\n        row.setAttribute('aria-rowindex', index + 1);\n      });\n    });\n  }\n\n  // =============================================================================\n  // LOADING STATE TOGGLE (for demo purposes)\n  // =============================================================================\n  \n  window.toggleTableLoading = function(tableSelector) {\n    const table = document.querySelector(tableSelector);\n    if (table) {\n      table.classList.toggle('table-loading');\n    }\n  };\n\n  // =============================================================================\n  // INITIALIZATION\n  // =============================================================================\n  \n  function initTables() {\n    initSortableTables();\n    initSelectableTables();\n    initExpandableTables();\n    initEditableTables();\n    initNumberedTables();\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initTables);\n  } else {\n    initTables();\n  }\n\n  // Re-initialize when new content is added dynamically\n  window.AxisUI = window.AxisUI || {};\n  window.AxisUI.reinitTables = initTables;\n\n  // =============================================================================\n  // PUBLIC API\n  // =============================================================================\n  \n  window.AxisUI.Table = {\n    sort: initSortableTables,\n    select: initSelectableTables,\n    expand: initExpandableTables,\n    edit: initEditableTables,\n    number: initNumberedTables,\n    reinit: initTables\n  };\n\n})();\n","// =============================================================================\r\n// TABLE-EDITABLE.JS - AxisUI Framework Editable Table Component\r\n// Advanced inline editing with validation, save/cancel, and data management\r\n// =============================================================================\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  // =============================================================================\r\n  // CONFIGURATION\r\n  // =============================================================================\r\n  \r\n  const config = {\r\n    editOnDoubleClick: true,\r\n    editOnClick: false,\r\n    saveOnBlur: true,\r\n    saveOnEnter: true,\r\n    cancelOnEscape: true,\r\n    allowEmpty: false,\r\n    highlightEditing: true,\r\n    editingClass: 'editing',\r\n    modifiedClass: 'modified',\r\n    errorClass: 'error'\r\n  };\r\n\r\n  // =============================================================================\r\n  // EDITABLE TABLE CLASS\r\n  // =============================================================================\r\n  \r\n  class EditableTable {\r\n    constructor(table, options = {}) {\r\n      this.table = table;\r\n      this.options = { ...config, ...options };\r\n      this.originalData = new Map();\r\n      this.modifiedCells = new Set();\r\n      this.currentEditingCell = null;\r\n      \r\n      this.init();\r\n    }\r\n\r\n    init() {\r\n      this.setupTable();\r\n      this.attachEventListeners();\r\n      this.storeOriginalData();\r\n    }\r\n\r\n    setupTable() {\r\n      this.table.classList.add('table-editable-enhanced');\r\n      \r\n      // Add toolbar if doesn't exist\r\n      if (!this.table.closest('.table-editable-wrapper')) {\r\n        this.createWrapper();\r\n      }\r\n    }\r\n\r\n    createWrapper() {\r\n      const wrapper = document.createElement('div');\r\n      wrapper.className = 'table-editable-wrapper';\r\n      \r\n      const toolbar = document.createElement('div');\r\n      toolbar.className = 'table-editable-toolbar';\r\n      toolbar.innerHTML = `\r\n        <div class=\"toolbar-left\">\r\n          <button class=\"btn btn-sm btn-green\" data-action=\"save-all\">\r\n            <span class=\"icon\">ðŸ’¾</span> Save All\r\n          </button>\r\n          <button class=\"btn btn-sm btn-red\" data-action=\"cancel-all\">\r\n            <span class=\"icon\">âœ•</span> Cancel All\r\n          </button>\r\n          <button class=\"btn btn-sm btn-blue\" data-action=\"reset\">\r\n            <span class=\"icon\">â†º</span> Reset\r\n          </button>\r\n        </div>\r\n        <div class=\"toolbar-right\">\r\n          <span class=\"changes-indicator\">\r\n            <span class=\"changes-count\">0</span> changes\r\n          </span>\r\n        </div>\r\n      `;\r\n      \r\n      this.table.parentNode.insertBefore(wrapper, this.table);\r\n      wrapper.appendChild(toolbar);\r\n      wrapper.appendChild(this.table);\r\n      \r\n      this.toolbar = toolbar;\r\n      this.attachToolbarListeners();\r\n    }\r\n\r\n    attachToolbarListeners() {\r\n      if (!this.toolbar) return;\r\n      \r\n      this.toolbar.addEventListener('click', (e) => {\r\n        const button = e.target.closest('[data-action]');\r\n        if (!button) return;\r\n        \r\n        const action = button.dataset.action;\r\n        \r\n        switch(action) {\r\n          case 'save-all':\r\n            this.saveAllChanges();\r\n            break;\r\n          case 'cancel-all':\r\n            this.cancelAllChanges();\r\n            break;\r\n          case 'reset':\r\n            this.resetToOriginal();\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    attachEventListeners() {\r\n      const cells = this.table.querySelectorAll('tbody td:not(.no-edit):not(.table-action-cell):not(.table-select-cell)');\r\n      \r\n      cells.forEach(cell => {\r\n        // Skip cells with buttons or checkboxes\r\n        if (cell.querySelector('.btn, input, a')) {\r\n          cell.classList.add('no-edit');\r\n          return;\r\n        }\r\n        \r\n        // Add editable indicator\r\n        cell.classList.add('editable');\r\n        \r\n        if (this.options.editOnDoubleClick) {\r\n          cell.addEventListener('dblclick', (e) => this.startEdit(cell));\r\n        }\r\n        \r\n        if (this.options.editOnClick) {\r\n          cell.addEventListener('click', (e) => {\r\n            if (e.target === cell || e.target.closest('.editable')) {\r\n              this.startEdit(cell);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    storeOriginalData() {\r\n      const cells = this.table.querySelectorAll('tbody td.editable');\r\n      cells.forEach((cell, index) => {\r\n        const value = cell.textContent.trim();\r\n        this.originalData.set(cell, value);\r\n        cell.dataset.cellId = index;\r\n      });\r\n    }\r\n\r\n    startEdit(cell) {\r\n      // If already editing, finish that first\r\n      if (this.currentEditingCell && this.currentEditingCell !== cell) {\r\n        this.finishEdit(this.currentEditingCell, true);\r\n      }\r\n      \r\n      if (cell.classList.contains('editing')) return;\r\n      \r\n      const value = cell.textContent.trim();\r\n      const cellType = this.detectCellType(cell, value);\r\n      \r\n      cell.classList.add(this.options.editingClass);\r\n      this.currentEditingCell = cell;\r\n      \r\n      const input = this.createInput(cellType, value, cell);\r\n      cell.textContent = '';\r\n      cell.appendChild(input);\r\n      \r\n      input.focus();\r\n      if (input.type === 'text' || input.tagName === 'TEXTAREA') {\r\n        input.select();\r\n      }\r\n      \r\n      // Event listeners for the input\r\n      if (this.options.saveOnBlur) {\r\n        input.addEventListener('blur', () => this.finishEdit(cell, true));\r\n      }\r\n      \r\n      input.addEventListener('keydown', (e) => {\r\n        if (this.options.saveOnEnter && e.key === 'Enter' && !e.shiftKey) {\r\n          e.preventDefault();\r\n          this.finishEdit(cell, true);\r\n        } else if (this.options.cancelOnEscape && e.key === 'Escape') {\r\n          e.preventDefault();\r\n          this.finishEdit(cell, false);\r\n        }\r\n      });\r\n    }\r\n\r\n    detectCellType(cell, value) {\r\n      // Check data attribute first\r\n      if (cell.dataset.type) {\r\n        return cell.dataset.type;\r\n      }\r\n      \r\n      // Auto-detect based on content\r\n      if (!isNaN(value) && value !== '') {\r\n        return 'number';\r\n      }\r\n      \r\n      if (Date.parse(value) && /\\d{4}-\\d{2}-\\d{2}/.test(value)) {\r\n        return 'date';\r\n      }\r\n      \r\n      if (value.includes('@') && value.includes('.')) {\r\n        return 'email';\r\n      }\r\n      \r\n      if (value.startsWith('$') || value.startsWith('â‚¬')) {\r\n        return 'currency';\r\n      }\r\n      \r\n      if (value.length > 50) {\r\n        return 'textarea';\r\n      }\r\n      \r\n      return 'text';\r\n    }\r\n\r\n    createInput(type, value, cell) {\r\n      let input;\r\n      \r\n      switch(type) {\r\n        case 'textarea':\r\n          input = document.createElement('textarea');\r\n          input.value = value;\r\n          input.rows = 2;\r\n          break;\r\n          \r\n        case 'number':\r\n          input = document.createElement('input');\r\n          input.type = 'number';\r\n          input.value = value.replace(/[^0-9.-]/g, '');\r\n          input.step = 'any';\r\n          break;\r\n          \r\n        case 'date':\r\n          input = document.createElement('input');\r\n          input.type = 'date';\r\n          input.value = value;\r\n          break;\r\n          \r\n        case 'email':\r\n          input = document.createElement('input');\r\n          input.type = 'email';\r\n          input.value = value;\r\n          break;\r\n          \r\n        case 'currency':\r\n          input = document.createElement('input');\r\n          input.type = 'text';\r\n          input.value = value;\r\n          input.pattern = '[0-9.,]+';\r\n          break;\r\n          \r\n        case 'select':\r\n          input = document.createElement('select');\r\n          const options = cell.dataset.options ? cell.dataset.options.split(',') : [];\r\n          options.forEach(opt => {\r\n            const option = document.createElement('option');\r\n            option.value = opt.trim();\r\n            option.textContent = opt.trim();\r\n            option.selected = opt.trim() === value;\r\n            input.appendChild(option);\r\n          });\r\n          break;\r\n          \r\n        default:\r\n          input = document.createElement('input');\r\n          input.type = 'text';\r\n          input.value = value;\r\n      }\r\n      \r\n      input.className = 'table-edit-input';\r\n      return input;\r\n    }\r\n\r\n    finishEdit(cell, save) {\r\n      if (!cell.classList.contains('editing')) return;\r\n      \r\n      const input = cell.querySelector('.table-edit-input');\r\n      if (!input) return;\r\n      \r\n      const newValue = input.value.trim();\r\n      const originalValue = this.originalData.get(cell);\r\n      \r\n      cell.classList.remove(this.options.editingClass);\r\n      this.currentEditingCell = null;\r\n      \r\n      if (save) {\r\n        // Validate\r\n        if (!this.options.allowEmpty && newValue === '') {\r\n          cell.textContent = originalValue;\r\n          cell.classList.add(this.options.errorClass);\r\n          setTimeout(() => cell.classList.remove(this.options.errorClass), 2000);\r\n          this.showNotification('Empty values are not allowed', 'error');\r\n          return;\r\n        }\r\n        \r\n        if (input.type === 'email' && !this.isValidEmail(newValue)) {\r\n          cell.textContent = originalValue;\r\n          cell.classList.add(this.options.errorClass);\r\n          setTimeout(() => cell.classList.remove(this.options.errorClass), 2000);\r\n          this.showNotification('Invalid email address', 'error');\r\n          return;\r\n        }\r\n        \r\n        // Format currency if needed\r\n        let displayValue = newValue;\r\n        if (cell.dataset.type === 'currency' && newValue) {\r\n          displayValue = this.formatCurrency(newValue);\r\n        }\r\n        \r\n        cell.textContent = displayValue;\r\n        \r\n        // Mark as modified if changed\r\n        if (newValue !== originalValue) {\r\n          cell.classList.add(this.options.modifiedClass);\r\n          this.modifiedCells.add(cell);\r\n          cell.dataset.newValue = newValue;\r\n        } else {\r\n          cell.classList.remove(this.options.modifiedClass);\r\n          this.modifiedCells.delete(cell);\r\n          delete cell.dataset.newValue;\r\n        }\r\n      } else {\r\n        // Cancel - restore original\r\n        cell.textContent = originalValue;\r\n      }\r\n      \r\n      this.updateChangesCount();\r\n      this.triggerChangeEvent(cell, save, originalValue, newValue);\r\n    }\r\n\r\n    isValidEmail(email) {\r\n      return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n    }\r\n\r\n    formatCurrency(value) {\r\n      const num = parseFloat(value.replace(/[^0-9.-]/g, ''));\r\n      if (isNaN(num)) return value;\r\n      return '$' + num.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    }\r\n\r\n    saveAllChanges() {\r\n      if (this.modifiedCells.size === 0) {\r\n        this.showNotification('No changes to save', 'info');\r\n        return;\r\n      }\r\n      \r\n      const changes = [];\r\n      this.modifiedCells.forEach(cell => {\r\n        const rowIndex = cell.parentElement.rowIndex;\r\n        const cellIndex = cell.cellIndex;\r\n        const originalValue = this.originalData.get(cell);\r\n        const newValue = cell.dataset.newValue || cell.textContent.trim();\r\n        \r\n        changes.push({\r\n          row: rowIndex,\r\n          col: cellIndex,\r\n          oldValue: originalValue,\r\n          newValue: newValue,\r\n          cell: cell\r\n        });\r\n        \r\n        // Update original data\r\n        this.originalData.set(cell, newValue);\r\n        cell.classList.remove(this.options.modifiedClass);\r\n        delete cell.dataset.newValue;\r\n      });\r\n      \r\n      this.modifiedCells.clear();\r\n      this.updateChangesCount();\r\n      \r\n      // Trigger save event\r\n      this.table.dispatchEvent(new CustomEvent('table-save', {\r\n        detail: { changes }\r\n      }));\r\n      \r\n      this.showNotification(`Saved ${changes.length} change${changes.length > 1 ? 's' : ''}`, 'success');\r\n    }\r\n\r\n    cancelAllChanges() {\r\n      if (this.modifiedCells.size === 0) {\r\n        this.showNotification('No changes to cancel', 'info');\r\n        return;\r\n      }\r\n      \r\n      const count = this.modifiedCells.size;\r\n      \r\n      this.modifiedCells.forEach(cell => {\r\n        const originalValue = this.originalData.get(cell);\r\n        cell.textContent = originalValue;\r\n        cell.classList.remove(this.options.modifiedClass);\r\n        delete cell.dataset.newValue;\r\n      });\r\n      \r\n      this.modifiedCells.clear();\r\n      this.updateChangesCount();\r\n      \r\n      this.showNotification(`Cancelled ${count} change${count > 1 ? 's' : ''}`, 'info');\r\n    }\r\n\r\n    resetToOriginal() {\r\n      if (confirm('Reset all data to original values? This cannot be undone.')) {\r\n        this.originalData.forEach((value, cell) => {\r\n          cell.textContent = value;\r\n          cell.classList.remove(this.options.modifiedClass);\r\n          delete cell.dataset.newValue;\r\n        });\r\n        \r\n        this.modifiedCells.clear();\r\n        this.updateChangesCount();\r\n        this.showNotification('Table reset to original values', 'info');\r\n      }\r\n    }\r\n\r\n    updateChangesCount() {\r\n      const indicator = this.toolbar?.querySelector('.changes-count');\r\n      if (indicator) {\r\n        indicator.textContent = this.modifiedCells.size;\r\n        \r\n        const parent = indicator.closest('.changes-indicator');\r\n        if (this.modifiedCells.size > 0) {\r\n          parent.classList.add('has-changes');\r\n        } else {\r\n          parent.classList.remove('has-changes');\r\n        }\r\n      }\r\n    }\r\n\r\n    triggerChangeEvent(cell, saved, oldValue, newValue) {\r\n      this.table.dispatchEvent(new CustomEvent('table-cell-change', {\r\n        detail: {\r\n          cell: cell,\r\n          saved: saved,\r\n          oldValue: oldValue,\r\n          newValue: newValue,\r\n          row: cell.parentElement.rowIndex,\r\n          col: cell.cellIndex\r\n        }\r\n      }));\r\n    }\r\n\r\n    showNotification(message, type = 'info') {\r\n      // Create notification element\r\n      const notification = document.createElement('div');\r\n      notification.className = `table-notification table-notification-${type}`;\r\n      notification.textContent = message;\r\n      \r\n      const wrapper = this.table.closest('.table-editable-wrapper') || this.table.parentElement;\r\n      wrapper.style.position = 'relative';\r\n      wrapper.appendChild(notification);\r\n      \r\n      // Animate in\r\n      setTimeout(() => notification.classList.add('show'), 10);\r\n      \r\n      // Remove after 3 seconds\r\n      setTimeout(() => {\r\n        notification.classList.remove('show');\r\n        setTimeout(() => notification.remove(), 300);\r\n      }, 3000);\r\n    }\r\n\r\n    getModifiedData() {\r\n      const data = [];\r\n      this.modifiedCells.forEach(cell => {\r\n        data.push({\r\n          row: cell.parentElement.rowIndex,\r\n          col: cell.cellIndex,\r\n          oldValue: this.originalData.get(cell),\r\n          newValue: cell.dataset.newValue || cell.textContent.trim()\r\n        });\r\n      });\r\n      return data;\r\n    }\r\n\r\n    destroy() {\r\n      const cells = this.table.querySelectorAll('tbody td.editable');\r\n      cells.forEach(cell => {\r\n        cell.classList.remove('editable', 'editing', 'modified');\r\n      });\r\n    }\r\n  }\r\n\r\n  // =============================================================================\r\n  // AUTO-INITIALIZATION\r\n  // =============================================================================\r\n  \r\n  function initEditableTables() {\r\n    const tables = document.querySelectorAll('.table-editable-advanced');\r\n    \r\n    tables.forEach(table => {\r\n      if (!table.editableInstance) {\r\n        table.editableInstance = new EditableTable(table);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Initialize on DOM ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initEditableTables);\r\n  } else {\r\n    initEditableTables();\r\n  }\r\n\r\n  // =============================================================================\r\n  // PUBLIC API\r\n  // =============================================================================\r\n  \r\n  window.AxisUI = window.AxisUI || {};\r\n  window.AxisUI.EditableTable = EditableTable;\r\n  window.AxisUI.initEditableTables = initEditableTables;\r\n\r\n})();\r\n"],"names":[],"ignoreList":[],"sourceRoot":""}